bookings.eligibility:
  post:
    tags:
      - "Bookings"
    summary: "Check which clinics the service user is eligible for"
    description: |
      **Permission:** `Open`

      ***

      This endpoint should be called at first instance to ensure the service user only attempts to book at a clinic that
      they are eligible for.

      A postcode must be provided to order the clinics by distance.
    operationId: "bookings.eligibility.store"
    security: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "/docs/schemas/booking.yaml#/Eligibility"
    responses:
      200:
        description: "Successful response"
        content:
          application/json:
            schema:
              $ref: "/docs/schemas/booking.yaml#/EligibleClinics"

appointments.appointment_id.bookings:
  post:
    tags:
      - "Bookings"
    summary: "Make a booking for the service user"
    description: |
      **Permission:** `Open`

      ***

      Validation is in place to ensure only eligible service users can make a booking for this appointment. You should
      always first check which clinics the user is eligible at.
    operationId: "appointments.appointment_id.bookings"
    security: []
    parameters:
      - $ref: "/docs/parameters/id.yaml#/appointment_id"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "/docs/schemas/booking.yaml#/MakeBooking"
    responses:
      200:
        description: "Successful response"
        content:
          application/json:
            schema:
              $ref: "/docs/schemas/booking.yaml#/Booking"
