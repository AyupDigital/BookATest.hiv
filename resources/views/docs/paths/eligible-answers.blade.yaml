clinics.clinic_id.eligible-answers:
  get:
    tags:
      - "Eligible Answers"
    summary: "List all the eligible answers set by the clinic"
    description: |
      **Permission:** `Clinic Admin`
      - Can view all eligible answers at a clinic they are a `Clinic Admin` for

      ***

      This endpoint will only return a list of all the eligiblity answers for the current questions.

      It's important to realise that answers for previous questions cannot be accessed through the API, even though they
      remain in the database.
    operationId: "clinics.eligible-answers.index"
    parameters:
      - $ref: "/docs/parameters/id.yaml#/clinic_id"
    responses:
      200:
        description: "Successful response"
        content:
          application/json:
            schema:
              $ref: "/docs/schemas/eligible-answer.yaml#/EligibleAnswerCollection"
      404:
        description: "Not found"
        content:
          application/json:
            schema:
              type: "object"
              properties:
                message:
                  type: "string"
                  example: "This client has not specified their eligible answers to the current set of questions"
  post:
    tags:
      - "Eligible Answers"
    summary: "Create a new set of eligibility answers if they have not yet been created"
    description: |
      **Permission:** `Clinic Admin`
      - Can create a new set of eligible answers for a clininc they are a `Clinic Admin` for

      ***

      This endpoint can only be used if this client has not yet specified their eligible answers for the current set of
      questions.
    operationId: "clinics.eligible-answers.store"
    parameters:
      - $ref: "/docs/parameters/id.yaml#/clinic_id"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: "array"
            items:
              $ref: "/docs/schemas/eligible-answer.yaml#/ModifyEligibleAnswer"
  put:
    tags:
      - "Eligible Answers"
    summary: "Update the exists set of eligibility answers"
    description: |
      **Permission:** `Clinic Admin`
      - Can update the set of eligible answers for a clinic they are a `Clinic Admin` for

      ***

      This endpoint can only be used if the client has already specified their eligible answers for the current set of
      questions.
    operationId: "clinics.eligible-answers.update"
    parameters:
      - $ref: "/docs/parameters/id.yaml#/clinic_id"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: "array"
            items:
              $ref: "/docs/schemas/eligible-answer.yaml#/ModifyEligibleAnswer"
